<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Required scripts -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous" defer>
    </script>
    <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-app.js" defer></script>
    <script src="https://www.gstatic.com/firebasejs/8.0.0/firebase-firestore.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js" defer></script>
    <script src="https://kit.fontawesome.com/a57c47fadc.js" crossorigin="anonymous" defer></script>
    <script src="assets/scripts/firebase-config.js" defer></script>
    <!-- Our own scripts -->
    <script>
        const spotify_id = '<%= s_id %>';
        const new_user = '<%= new_user %>';

        if ('<%= dev_mode %>' === 'node') {
            var node_mode = true;
        } else {
            var node_mode = false;
            console.log('Functions are running twice without Node.....')
        }
        console.log('Using Node? = ' + node_mode);
    </script>
    <script src="assets/scripts/philly-collages.js" defer></script>
    <script src="assets/scripts/chat.js" defer></script>
    <!-- Styles -->
    <link rel="stylesheet" href="assets/styles/normalize.css">
    <link rel="stylesheet" href="assets/styles/chat.css">
    <title>FireStore Chat</title>
    <!-- Favicons because the console was annoying me -->
    <link rel="apple-touch-icon" sizes="57x57" href="assets/favicons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="assets/favicons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="assets/favicons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="assets/favicons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="assets/favicons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="assets/favicons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="assets/favicons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="assets/favicons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/favicons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="assets/favicons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="assets/favicons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicons/favicon-16x16.png">
    <link rel="manifest" href="assets/favicons/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="assets/favicons/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
</head>

<body>
    <h1>Shuffle Chat</h1>
    <main>
        <nav>
            <button id="back_button">
                <i class="fa fa-chevron-left" aria-hidden="true"></i>
            </button>
            <h2 id="title"></h2>
            <button class="nav-end" id="profile_button">
                <i class="fas fa-user" aria-hidden="true"></i>
            </button>
            <button class="nav-end" id="match_options_button">
                <i class="fas fa-ellipsis-h" aria-hidden="true"></i>
            </button>
        </nav>
        <div id="content_area">
            <div id="modal">
                <div class="modal_common" id="modal_match_options">
                    <button class="red-btn" id="block_user_button">Block</button>
                    <button class="red-btn" id="report_user_button">Report</button>
                    <button class="green-btn" id="modal_close_button">Close</button>
                </div>
            </div>
            <!-- Login Form -->
            <form class="prompt_form" id="login_form">
                <h2>Welcome to Shuffle!</h2>
                <input type="text" id="uuid_input" placeholder="Username" required>
                <button class="green-btn" id="login_button">Login</button>
                <h2>Don't have an account?</h2>
                <button class="blue-btn" id="sign_up_button">Sign up</button>
            </form>
            <!-- ===== Sign Up Form ===== -->
            <form class="prompt_form" id="sign_up_form">
                <h2>Enter your info:</h2>
                <input type="text" id="first_name_input" placeholder="First Name" required>
                <input type="text" id="last_name_input" placeholder="Last Name" required>
                <input type="text" id="age_input" placeholder="Age">
                <input type="text" id="gender_input" placeholder="Gender">
                <select id="school_input">
                    <option>Choose a school</option>
                    <!-- Schools populated by JS -->
                </select>

                <h2>What are you looking for?</h2>
                <div class="checkboxes">
                    <span><input class="lf_checkbox" type="checkbox" value="Chat">Chat</span>
                    <span><input class="lf_checkbox" type="checkbox" value="Relationships">Relationships</span>
                    <span><input class="lf_checkbox" type="checkbox" value="Friends">Friends</span>
                </div>
                <h2>What's your anthem?</h2>
                <input type="text" id="anthem_id_input" placeholder="Anthem ID">

                <button class="green-btn" id="add_account_button">Complete Sign Up</button>
            </form>
            <!-- ===== Pick who to chat with ===== -->
            <form class="prompt_form" id="match_form">
                <h2>This week's matches:</h2>
                <select id="match_input" size="5">
                    <!-- Matches populated by DB... -->
                </select>
                <button class="green-btn" id="pick_match_button">Chat</button>
            </form>
            <!-- ===== Chat ===== -->
            <form id="chat_form">
                <ul id="chat_box">
                    <!-- Chats populated by DB... -->
                </ul>
                <div id="chat_controls">
                    <input type="text" id="message_input" placeholder="Message">
                    <button class="green-btn" id="send_button">Send <i class="fa fa-paper-plane-o"
                            aria-hidden="true"></i></button>
                </div>
            </form>
            <!-- ===== Profile ===== -->
            <form id="profile_form">
                <div class="profile_section" id="profile_top">
                    <div id="me">
                        <i class="fas fa-user fa-3x" aria-hidden="true"></i>
                        <span class="stat_wrap">
                            <h2 class="stat" id="stat_name">
                                <!-- Populated by DB... -->
                            </h2>
                        </span>
                        <span class="stat_wrap">
                            <p class="stat" id="stat_location">
                                <!-- Populated by DB... -->
                            </p>
                        </span>
                        <span class="stat_wrap">
                            <p class="stat" id="stat_school">
                                <!-- Populated by DB... -->
                            </p>
                        </span>
                    </div>
                    <span class="stat_wrap" id="anthem_wrap">
                        <h2 id="stat_anthem_label">
                            <!-- Populated by DB... -->
                        </h2>
                        <iframe id="stat_anthem" frameborder="0" allowtransparency="true"
                            allow="encrypted-media"></iframe>
                    </span>
                </div>
                <div class="profile_section" id="profile_btm">
                    <ul id="profile_stats">
                        <li class="stat_wrap stat_li">
                            <div class="stat_left">Age:</div>
                            <div class="stat" id="stat_age">
                                <!-- Populated by DB... -->
                            </div>
                        </li>
                        <li class="stat_wrap stat_li">
                            <div class="stat_left">Gender:</div>
                            <div class="stat" id="stat_gender">
                                <!-- Populated by DB... -->
                            </div>
                        </li>
                        <li class="stat_wrap stat_li">
                            <div class="stat_left">Looking for:</div>
                            <div class="stat" id="stat_looking_for">
                                <!-- Populated by DB... -->
                            </div>
                        </li>
                        <li class="stat_wrap stat_li">
                            <div class="stat_left">Join Date:</div>
                            <div class="stat" id="stat_account_created">
                                <!-- Populated by DB... -->
                            </div>
                        </li>
                    </ul>
                </div>
            </form>
        </div>
    </main>
    <h2 id="status"></h2>
</body>

</html>